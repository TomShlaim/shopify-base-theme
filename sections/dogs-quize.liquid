{{ 'quiz-block.css' | asset_url | stylesheet_tag }}
{{ 'quiz-block.js' | asset_url | script_tag }}


{% schema %}
{
  "name": "Dog Quiz Blocks",
  "tag": "section",
  "class": "quiz-section",
  "blocks": [
    {
      "type": "welcome_screen",
      "name": "Welcome Screen",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Welcome to GumPaws Quiz"
        },
        {
          "type": "text", 
          "id": "subtitle",
          "label": "Subtitle",
          "default": "Let's find the perfect solution for your dog"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Start Quiz"
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "quiz_start"
        }
      ]
    },
    {
      "type": "dog_name",
      "name": "Dog Name Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What's Your Dog's Name?"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Input Placeholder",
          "default": "Dog's Name"
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "name_entered"
        }
      ]
    },
    {
      "type": "dog_breed",
      "name": "Dog Breed Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What breed is {{ dog_name }}?"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Input Placeholder", 
          "default": "Search breeds..."
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "breed_selected"
        }
      ]
    },
{
  "type": "dog_weight",
  "name": "Dog Weight Question",
  "settings": [
    {
      "type": "text",
      "id": "question",
      "label": "Question",
      "default": "What is {{ dog_name }}'s weight?"
    },
    {
      "type": "text",
      "id": "option_1",
      "label": "Option 1",
      "default": "0-45 lbs"
    },
    {
      "type": "image_picker",
      "id": "option_1_image",
      "label": "Option 1 Image"
    },
    {
      "type": "text",
      "id": "option_2", 
      "label": "Option 2",
      "default": "45-90 lbs"
    },
    {
      "type": "image_picker",
      "id": "option_2_image",
      "label": "Option 2 Image"
    },
    {
      "type": "text",
      "id": "option_3",
      "label": "Option 3", 
      "default": "90+ lbs"
    },
    {
      "type": "image_picker",
      "id": "option_3_image",
      "label": "Option 3 Image"
    },
    {
      "type": "text",
      "id": "ga_event",
      "label": "Google Analytics Event",
      "default": "weight_selected"
    }
  ]
},
    {
      "type": "dog_health",
      "name": "Dog Health Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "{{ dog_name }}'s Overall Health Is:"
        },
        {
          "type": "text",
          "id": "option_1",
          "label": "Option 1",
          "default": "Excellent"
        },
        {
          "type": "text",
          "id": "option_2",
          "label": "Option 2",
          "default": "Good"
        },
        {
          "type": "text",
          "id": "option_3",
          "label": "Option 3",
          "default": "Fair"
        },
        {
          "type": "text",
          "id": "option_4",
          "label": "Option 4",
          "default": "Poor"
        },
        {
          "type": "text",
          "id": "option_5",
          "label": "Option 5",
          "default": "Very Poor"
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "health_selected"
        }
      ]
    },
  {
  "type": "dental_issues",
  "name": "Dental Issues Question",
  "settings": [
    {
      "type": "text",
      "id": "question",
      "label": "Question",
      "default": "Does your dog Suffer from Any of These Dental Issues:"
    },
    {
      "type": "text",
      "id": "option_1",
      "label": "Option 1",
      "default": "Bad Breath (Halitosis)"
    },
    {
      "type": "image_picker",
      "id": "option_1_image",
      "label": "Option 1 Image"
    },
    {
      "type": "text",
      "id": "option_2",
      "label": "Option 2",
      "default": "Excessive Drooling"
    },
    {
      "type": "image_picker",
      "id": "option_2_image",
      "label": "Option 2 Image"
    },
    {
      "type": "text",
      "id": "option_3",
      "label": "Option 3",
      "default": "Difficulty Eating or Chewing"
    },
    {
      "type": "image_picker",
      "id": "option_3_image",
      "label": "Option 3 Image"
    },
    {
      "type": "text",
      "id": "option_4",
      "label": "Option 4",
      "default": "Swollen or Bleeding Gums"
    },
    {
      "type": "image_picker",
      "id": "option_4_image",
      "label": "Option 4 Image"
    },
    {
      "type": "text",
      "id": "option_5",
      "label": "Option 5",
      "default": "None"
    },
    {
      "type": "image_picker",
      "id": "option_5_image",
      "label": "Option 5 Image"
    },
    {
      "type": "text",
      "id": "ga_event",
      "label": "Google Analytics Event",
      "default": "dental_issues_selected"
    }
  ]
}
,
    {
      "type": "other_dogs",
      "name": "Other Dogs Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "Do You Have Any Other Dogs?"
        },
        {
          "type": "text",
          "id": "option_1",
          "label": "Option 1",
          "default": "Yes"
        },
        {
          "type": "text",
          "id": "option_2",
          "label": "Option 2",
          "default": "No"
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "other_dogs_selected"
        }
      ]
    },
    {
      "type": "email_capture",
      "name": "Email Capture",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Get {{ dog_name }}'s Assessment and See How GumPaws Can Help!"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle",
          "default": "For up to 58% off, simply drop your email below:"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "See my results"
        },
        {
          "type": "text",
          "id": "ga_event",
          "label": "Google Analytics Event",
          "default": "email_submitted"
        }
      ]
    },
    {
      "type": "thank_you_screen",
      "name": "Thank You Screen",
      "settings": [
        {
          "type": "url",
          "id": "redirect_url",
          "label": "Redirect URL",
          "info": "URL to redirect to after submission"
        },
        {
          "type": "number",
          "id": "redirect_delay",
          "label": "Redirect Delay (seconds)",
          "default": 3,
          "info": "Time to wait before redirecting"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Dog Quiz"
    }
  ]
}
{% endschema %}

{{ 'quiz-block.css' | asset_url | stylesheet_tag }}
{{ 'quiz-block.js' | asset_url | script_tag }}

<div class="quiz-container" data-create-user-endpoint="/apps/quiz/create-user">
  {% for block in section.blocks %}
    <div class="quiz-slide" data-block-id="{{ block.id }}" data-screen="{{ block.type }}" data-ga-event="{{ block.settings.ga_event }}">
      {% case block.type %}
        
        {% when 'welcome_screen' %}
          <div class="welcome-screen quiz-slide-div " data-ga-event="{{ block.settings.ga_event }}">
            <h3 class="title_quize">{{ block.settings.title }}</h3>
            <p>{{ block.settings.subtitle }}</p>
            <ul class="icon-list">
    <li class="icon-item">
        <span class="icon">
      <img src="{{ 'Human-Grade.svg' | asset_url }}" alt="Icon">
        </span>
        <span class="icon-text">Human-Grade Quality</span>
    </li>
    <li class="icon-item">
        <span class="icon">
        <img src="{{ 'Formulated.svg' | asset_url }}" alt="Icon">
        </span>
        <span class="icon-text">Formulated by Experts</span>
    </li>
    <li class="icon-item">
        <span class="icon">
          <img src="{{ 'LessSmell.svg' | asset_url }}" alt="Icon">
        </span>
        <span class="icon-text">Less Smell, Better Taste</span>
    </li>
</ul>

            <button class="cta_button next-btn " data-ga-event="{{ block.settings.ga_event }}">
              {{ block.settings.button_text }}
            </button>

            
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/handgummy-min.d110a0.webp?v=1741855571" class="hand-up">
          </div>


        <div class="SEEN-ON">
<p>AS SEEN ON:</p>
          <div class="grid-SEEN-ON">
<div class="item">
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/05-min_67bd5c61-ce1a-4c98-ad93-f3068c4b41ba.jpg?v=1741526928" >
</div>
   
          <div class="item">
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/02-min_83c749b3-e4e8-46fa-8a59-57e7a3675166.jpg?v=1741526928" >
</div>

                   <div class="item">
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/04-min_2ebf6b2f-8d7a-469f-9a81-b060eee16af5.jpg?v=1741526928" >
</div>
            
          <div class="item">
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/03-min_ee64af5e-b8f5-4296-8c0c-cceb73518a5c.jpg?v=1741526928" >
</div>
          <div class="item">
<img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/01-min_b006af27-722b-4264-84fc-51b281eedeb3.jpg?v=1741526928" >
</div>
        </div>
</div>

    <div class=" welcome-trusted" style="display: none;">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
        {% when 'dog_name' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
<div>
            <div class="progress-bar">
              <div class="progress" style="width: "><span></span></div>
            
            </div>
            <h3  class="title_quize">{{ block.settings.question }}</h3>
            <input type="text" 
                   placeholder="{{ block.settings.placeholder }}" 
                   class="dog-name-input"
                   data-store="dog_name">

            

</div>
            <div>
   <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn"><i aria-hidden="true" class="feather icon-arrow-left"></i> Back</button>
                </div>
          </div>

        {% when 'dog_breed' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
            <div>
            <div class="progress-bar">
              <div class="progress" style="width: 30%"><span></span></div>
      
            </div>
            <h3 class="dynamic-text title_quize" data-template="What breed is [dog_name]?"></h3>
            <div class="breed-select-wrapper">
              <input type="text" 
                     placeholder="{{ block.settings.placeholder }}" 
                     class="breed-select"
                     data-store="breed">
              <div class="breed-select-options"></div>
            </div>
 <button class="next-btn-no next-btn" style="text-decoration: underline; opacity: 1 !important;cursor: pointer !important;    z-index: 9;
    position: relative;     display: block; text-align: center; width: 100%;">I'm not sure</button>

                           
            </div>
        <div>
          <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn">Back</button>
        </div>
        </div>

        {% when 'dog_weight' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
<div>
              <div class="progress-bar">
              <div class="progress" style="width: 30%"><span></span></div>
              
            </div>
            <h3 class=" title_quize dynamic-text" data-template="What is [dog_name]'s weight?"></h3>
            <div class="weight-options">
         {% for i in (1..3) %}
    {% assign option_key = 'option_' | append: i %}
    {% assign image_key = 'option_' | append: i | append: '_image' %}
    {% assign option_value = block.settings[option_key] | replace: ' ', '' %}
    <label>
        <input type="radio" 
               name="weight" 
               value="{{ option_value }}"
               data-store="weight">
        
        {% if block.settings[image_key] != blank %}
            <img src="{{ block.settings[image_key] | img_url: 'medium' }}" alt="{{ block.settings[option_key] }}">
        {% endif %}

        <span>{{ block.settings[option_key] }}</span>
    </label>
{% endfor %}

            </div>
         
     </div>
        <div>
              <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn">Back</button>
        </div>
          </div>

        {% when 'dog_health' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
            <div>
         <div class="progress-bar">
              <div class="progress" style="width: 30%"><span></span></div>
              
            </div>
            <h3 class="dynamic-text title_quize" data-template="[dog_name]'s Overall Health Is:"></h3>
            <div class="health-options">
              {% for i in (1..5) %}
                {% assign option_key = 'option_' | append: i %}
{% assign option_value = block.settings[option_key] | replace: ' ', '' %}
                <label>
                  <input type="radio" 
                         name="health" 
                         value="{{ option_value }}"
                         data-store="health">
                  <span>{{ block.settings[option_key] }}</span>
                </label>
              {% endfor %}
            </div>
        
   </div>
        <div>
               <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn">Back</button>
          </div>
   </div>
        {% when 'dental_issues' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
               <div>
            <div class="progress-bar">
              <div class="progress" style="width: 65%"><span></span></div>
             
            </div>
            <h3 class="title_quize" data-template="{{ block.settings.question }}">{{ block.settings.question }}</h3>
            <div class="dental-options">
        {% for i in (1..5) %}
    {% assign option_key = 'option_' | append: i %}
    {% assign image_key = 'option_' | append: i | append: '_image' %}
    {% assign option_text = block.settings[option_key] | downcase %}
          {% assign option_value = block.settings[option_key] | replace: ' ', '' %}

    <label{% if option_text == 'none' %} class="none-option"{% endif %}>
        <input type="checkbox" 
               name="dental" 
               value="{{ option_value }}"
               data-store="dental_issues" {% if option_text == 'none' %} class="onlyselect"{% endif %}>
        
        {% if block.settings[image_key] != blank %}
            <img src="{{ block.settings[image_key] | img_url: 'medium' }}" alt="{{ block.settings[option_key] }}">
        {% endif %}

        <span>{{ block.settings[option_key] }}</span>
    </label>
{% endfor %}


            </div>

                             

                    </div>
        <div>
  
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn">Back</button>
          </div>
       </div>
        {% when 'other_dogs' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
                   <div>
            <div class="progress-bar">
              <div class="progress" style="width: 80%"><span>1</span></div>
            
            </div>
            <h3 class="title_quize">{{ block.settings.question }}</h3>
            <div class="yes-no-options">
              <label>
                <input type="radio" 
                       name="other_dogs" 
                       value="yes"
                       data-store="other_dogs">
                <span>{{ block.settings.option_1 }}</span>
              </label>
              <label>
                <input type="radio" 
                       name="other_dogs" 
                       value="no"
                       data-store="other_dogs">
                <span>{{ block.settings.option_2 }}</span>
              </label>
            </div>
                                 
   </div>
        <div>
           <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="next-btn cta_button" data-ga-event="{{ block.settings.ga_event }}">Continue</button>
            <button class="back-btn">Back</button>
          </div>
  </div>
        {% when 'email_capture' %}
          <div class="question-screen quiz-slide-div" data-ga-event="{{ block.settings.ga_event }}">
            <div>
            <div class="progress-bar">
              <div class="progress" style="width: 100%"><span></span></div>
            
            </div>
            <h3 class=" title_quize dynamic-text" data-template="Get [dog_name]'s Assessment and See How GumPaws Can Help!"></h3>
            <p>{{ block.settings.subtitle }}</p>
            <input type="email" 
                   placeholder="Email address" 
                   class="email-input"
                   data-store="email">
            <div class="error-message" style="display: none; color: red;"></div>
             
   </div>
        <div>
          <div class="quiz-trusted">
    <img src="https://cdn.shopify.com/s/files/1/0916/1349/5608/files/re.png?v=1741857331" >
    </div>
            <button class="cta_button submit-btn" data-ga-event="{{ block.settings.ga_event }}">
              {{ block.settings.button_text }}
            </button>
            <button class="back-btn">Back</button>
          </div>
         </div>
        {% when 'thank_you_screen' %}
        
          <div class="quiz-thank-you-screen"  data-ga-event="{{ block.settings.ga_event }}"
               data-redirect-url="{{ block.settings.redirect_url }}"
               data-redirect-delay="{{ block.settings.redirect_delay | times: 1000 }}"
               style="padding: 30px 25px 0; margin: 0 0px 25px; background-image: url(https://cdn.shopify.com/s/files/1/0916/1349/5608/files/t3-min.jpg?v=1742245387); 
text-align: center!important; display: block; min-height: calc(100vh - 160px);        background-position: bottom center; background-size: cover; justify-content: space-between; flex-flow: column; border-radius: 25px;">
            <div class="thank-you-content">
              <h3 class="title_quize">Calculating…</h3>
              <div class="progress-bar-thank-you">
                <div class="progress" style="width: 0%"><span>0%</span></div>
              </div>
           
            </div>
          </div>

          <style>
            .progress-bar-thank-you {
              width: 100%;
              height: 20px;
              background-color: rgba(255, 255, 255, 0.2);
              border-radius: 10px;
              overflow: hidden;
margin-top: 0px!important;
              margin: 20px 0;
            }

            .progress-bar-thank-you .progress {
              height: 100%;
              background-color: #4CAF50;
              transition: width 0s ease-in-out;
            }

            .progress-bar-thank-you .progress span {
              display: block;
              text-align: center;
              color: #fff;
              font-size: 12px;
              line-height: 20px;
            }

@media(max-width: 768px) {
  .quiz-thank-you-screen {  min-height: 150vw; }

}
          </style>

          <script>
          
          </script>
      {% endcase %}
    </div>
  {% endfor %}
</div>